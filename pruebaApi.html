<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Our superheroes</title>

    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="Imagenes/movie-clapper-film.png" type="image/icon type">
  </head>

  <body>

      <header></header>

      <section id="">
        <p></p>
      </section>
    
    <script>
      let test;
        const headerTitle = document.querySelector('header');
        const section = document.querySelector('section');
        const requestURL = 'https://api.themoviedb.org/4/list/7113794?language=es&api_key=dc3b22860cde29d18263951f0f48ee4a&page=1';
        const request = new XMLHttpRequest(); //instancian objeto 
        request.open('GET', requestURL); // setean el método, la url de api
        request.responseType = 'json'; //definen el tipo de dato que les devuelve
        request.send();//envían la solicitud
        request.onload = function (){ //esperan la respuesta
            test = request.response; //reciben la respuesta

            console.log(test);

            rellenarHeader(test);
            //viewMovie(movies.results);
        }
       

        function rellenarHeader(jsonObj) {
            let myH1 = document.createElement('h1');//<h1></h1>
            myH1.textContent = jsonObj.backdrop_path; // le agrego un texto
            headerTitle.appendChild(myH1);// agregro el elemento al Html <header>
            console.log(test + myH1.textContent)
        }
            //let myp = document.createElement('p');
            //myp.textContent = 'Hometown: ' + jsonObj.homeTown + ' // Formed: ' + jsonObj.formed;
            //headerTitle.appendChild(myp);
        
        /*function viewMovie(movie){
            for (i = 0; i < movie.length; i++){
                let myArticle = document.createElement('article');
                let myH2 = document.createElement('h2');
                let myp = document.createElement('p');
                let myp1 = document.createElement('p');
                let myp2 = document.createElement('p');
                let myList = document.createElement('ul');

                for (j = 0; j < movie[i].inCinemas.length; j++){
                  let myLi = document.createElement('li');
                  myLi.textContent =  movie[i].inCinemas[j];
                  myList.appendChild(myLi);
                }

                myH2.textContent = movie[i].name;
                myp.textContent = 'Categoria: ' + movie[i].category;
                myp1.textContent = 'Descripcion: ' + movie[i].description;
                myp2.textContent = 'Super Poder: ';
                
                

                myArticle.appendChild(myH2);
                myArticle.appendChild(myp);
                myArticle.appendChild(myp1);
                myArticle.appendChild(myp2);
                myArticle.appendChild(myList)
                section.appendChild(myArticle);



            }
            

        }*/

    </script>
    <script defer
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"></script>
  </body>
</html>