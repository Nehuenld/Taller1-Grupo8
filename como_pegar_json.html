<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>Our superheroes</title>

    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <h1 id="titulo"> MI TITULO </h1>
        <p id="subtitulo"></p>
    </header>

    <section></section>

    <script>
        const headerTitle = document.querySelector('header');
        const section = document.querySelector('section');
        const requestURL = 'https://api.themoviedb.org/4/list/7113794?language=es&api_key=dc3b22860cde29d18263951f0f48ee4a&page=1';
        const request = new XMLHttpRequest(); //instancian objeto 
        var superHeroes = '';
        request.open('GET', requestURL); // setean el método, la url de api
        request.responseType = 'json'; //definen el tipo de dato que les devuelve
        request.send(); //envían la solicitud
        request.onload = function() { //esperan la respuesta
            superHeroes = request.response; //reciben la respuesta
            console.log(superHeroes);
            rellenarHeader();
            mostrarHeroes();
        }

        function rellenarHeader() {

            /**  METODO UNO */
            //let myH1 = document.createElement('h1');//<h1></h1>
            // myH1.textContent = superHeroes.squadName; // le agrego un texto
            // headerTitle.appendChild(myH1);// agregro el elemento al Html <header>

            //let myp = document.createElement('p');
            //myp.textContent = 'Hometown: ' + superHeroes.homeTown + ' // Formed: ' + superHeroes.formed;
            //headerTitle.appendChild(myp);

            /**  METODO DOS */
            /* let myTitle = "<h1>"+ superHeroes.squadName + "</h1>";
             myTitle += "<p> Hometown:"+ superHeroes.homeTown ;
             myTitle += " // Formed: " + superHeroes.formed + "</p>";
             headerTitle.innerHTML = myTitle;*/

            /**  METODO TRES */
            let titulo = document.getElementById("titulo");
            titulo.innerHTML = superHeroes.homeTown;
            let subtitulo = document.getElementById("subtitulo");
            subtitulo.innerHTML = "Hometown:" + superHeroes.homeTown + " // Formed: " + superHeroes.formed;

        }

        function mostrarHeroes() {
            let heroes = superHeroes.results;
            for (i = 0; i < heroes.length; i++) {
                let myArticle = document.createElement('article');
                let myH2 = document.createElement('h2');
                let myp = document.createElement('p');
                let myp1 = document.createElement('p');
                let myp2 = document.createElement('p');
                let myList = document.createElement('ul');
                let myImg = document.createElement('img');

                myH2.textContent = heroes[i].original_title;
                myp.textContent = 'Identidad Secreta: ' + heroes[i].overview;
                myp1.textContent = 'Edad: ' + heroes[i].release_date;
                myp2.textContent = 'Super Poder: ';
                myImg.src = 'https://image.tmdb.org/t/p/w500/' + heroes[i].backdrop_path;

                myArticle.appendChild(myH2);
                myArticle.appendChild(myp);
                myArticle.appendChild(myp1);
                myArticle.appendChild(myp2);
                myArticle.appendChild(myList);
                myArticle.appendChild(myImg);

                /*for (z = 0; z < heroes[i].results.length; z++) {
                    let myLi = document.createElement('li');
                    myLi.textContent = heroes[i].results[z];
                    myList.appendChild(myLi);

                }*/

                section.appendChild(myArticle);



            }

        }
    </script>
</body>

</html>